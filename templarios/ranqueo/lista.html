{% extends 'base.html' %}

{% block title %}{{ datos.tipo }}{% endblock %}

{% block content %}
    <table class="table table-success table-hover"> <!-- table table-primary -->
    <thead>
        <tr>
            <th class="px-2">{{ datos.tipo }}</th>
            {% if datos.accion == 0 %}
                <th class="px-2">Mods</th>
                <th class="px-2">Ir Mods</th>
                <th class="px-2">Ranking</th>
                <th class="px-2">Enlace</th>
            {% elif datos.accion == 1 %}
                <th class="px-2">Descripcion</th>
                <th class="px-2">img</th>
                <th class="px-2">Autor</th>
                <th class="px-2">Reputacion</th>
            {% elif datos.accion == 2 %}
                <th class="px-2">Nombre</th>
                <th class="px-2">Activo</th>
                <th class="px-2">Staff</th>
            {% endif %}

            {% if user.is_superuser %}
                <th class="px-2">Admin</th>
            {% endif %}
        </tr>
    </thead>
    <tbody>
        {% for cosa in datos.items %}
            <tr>
                <th class="px-2">{{ cosa.name }} </th>

                {% if datos.accion == 0 %} <!-- Mods -->
                    <th class="px-2">{{ cosa.mods }} </th>
                    <th class="px-2"><a href="{% url 'listarMods' cosa.game_id %}"><button>Ir a {{ cosa.name }}</button></a></th>
                    <th class="px-2"><a href="{% url 'ranking' cosa.game_id %}"><button>Ranking</button></a></th>
                    <th class="px-2"><a href="{{ cosa.nexusmods_url }}">sitio</a></th>
                {% elif datos.accion == 1 %} <!-- Juegos -->
                    <th class="px-2"><p>{{ cosa.summary }}</p></th>
                    <th class="px-2"><img src="{{ cosa.picture_url }}" alt=""></th>
                    <th class="px-2"><p>{{ cosa.author }}</p></th>
                    <th class="px-2"><a href="{% url 'mod' cosa.mod_id %}"><button>Valoracion</button></a></th>
                {% elif datos.accion == 2 %} <!-- Usuarios -->
                    <th class="px-2"><p>{{ cosa.nombre }}</p></th>
                    <th class="px-2"><p>{{ cosa.is_active }}</p></th>
                    <th class="px-2"><p>{{ cosa.is_staff }}</p></th>
                {% endif %}

                {% if user.is_superuser %}
                    {% if datos.accion == 0 %}
                        <th class="px-2">
                            <a href="{% url 'borrarGame' cosa.game_id %}"><button>Eliminar</button></a>
                            <br>
                            ID: {{ cosa.game_id }}
                        </th>

                    {% elif datos.accion == 1 %}
                        <th class="px-2">
                            <a href="{% url 'borrarMod' cosa.mod_id %}"><button>Eliminar</button></a>
                            <br>
                            ID: {{ cosa.mod_id }}
                            <br>
                            <a href="{% url 'estadisticasMod' cosa.mod_id %}"><button>Estadisticas</button></a>
                        </th>
                    {% elif datos.accion == 2 %}
                        <th class="px-2">
                            <a href="{% url 'borrarUsuario' cosa.id %}"><button>Eliminar</button></a>
                            <br>
                            ID: {{ cosa.id }}
                        </th>
                    {% endif %}
                {% endif %}
            </tr>
        {% empty %}
          <p>No hay {{ datos.tipo }}.</p>
        {% endfor %}
    </tbody>
    </table>

    <!--
    <style>
        input,label {
          display: inline-block;
          margin-right: 15px;
        }
    </style>
    -->
    <!-- https://stackoverflow.com/questions/51106830/how-to-call-python-functions-from-javascript-in-django -->
{% endblock %}